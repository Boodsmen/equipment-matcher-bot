## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –º–æ–¥–µ–ª–µ–π –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –ø–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏—è–º —Ç–µ–Ω–¥–µ—Ä–æ–≤. –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç DOCX —Ñ–∞–π–ª —Å –¢–ó, –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–æ–¥–µ–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞ –æ—Å–Ω–æ–≤–µ 45-50 CSV —Ñ–∞–π–ª–æ–≤ —Å ~550-700 –º–æ–¥–µ–ª—è–º–∏) –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Excel –æ—Ç—á–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–ª–æ—É:**
1. –ê–¥–º–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç DOCX —Å –¢–ó —Ç–µ–Ω–¥–µ—Ä–∞
2. OpenAI API –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–º–æ–¥–µ–ª–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
3. –°–∏—Å—Ç–µ–º–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å –ë–î (–∏–¥–µ–∞–ª—å–Ω–æ / —á–∞—Å—Ç–∏—á–Ω–æ ‚â•70% / –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç)
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è Excel —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
5. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## Quick Start (–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫)

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- OpenAI API Key (https://platform.openai.com/api-keys)
- CSV —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `data/csv/`

### –ó–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

```bash
# 1. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å BOT_TOKEN, OPENAI_API_KEY, POSTGRES_PASSWORD, ADMIN_IDS

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# 3. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫–∞ –ë–î (30 —Å–µ–∫)
docker-compose logs -f db  # Ctrl+C –∫–æ–≥–¥–∞ —É–≤–∏–¥–∏—à—å "database system is ready"

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec bot alembic upgrade head

# 5. –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CSV –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û - –ø–µ—Ä–≤—ã–π —à–∞–≥!)
docker-compose exec bot python scripts/scan_headers.py
# –†–µ–∑—É–ª—å—Ç–∞—Ç: data/headers_report.json

# 6. –°–æ–∑–¥–∞—Ç—å normalization_map.json –Ω–∞ –æ—Å–Ω–æ–≤–µ headers_report.json
# –í–ê–†–ò–ê–ù–¢ –ê: –í—Ä—É—á–Ω—É—é –Ω–∞ —Ö–æ—Å—Ç–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
nano data/normalization_map.json
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä: vim, code, notepad++

# –í–ê–†–ò–ê–ù–¢ –ë: –° –ø–æ–º–æ—â—å—é Claude Code (—Å–º. –ó–∞–¥–∞—á—É 3.5 –Ω–∏–∂–µ)

# 7. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å CSV –≤ –ë–î (–ü–û–°–õ–ï —Å–æ–∑–¥–∞–Ω–∏—è normalization_map.json!)
docker-compose exec bot python scripts/import_csv.py

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
docker-compose exec bot python -c "from database.crud import get_models_count; print(get_models_count())"

# 9. –ì–æ—Ç–æ–≤–æ! –û—Ç–ø—Ä–∞–≤—å /start –±–æ—Ç—É –≤ Telegram
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π –≤ –ë–î
docker-compose exec db psql -U postgres -d tender_matcher -c "SELECT COUNT(*) FROM models;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
docker-compose exec db psql -U postgres -d tender_matcher -c "SELECT specifications->>'ports_1g_sfp' FROM models LIMIT 5;"
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python 3.10+** (–≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
- **aiogram 3.13.1** - Telegram Bot framework
- **PostgreSQL** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLAlchemy + Alembic** - ORM –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- **OpenAI API (GPT-4)** - –ü–∞—Ä—Å–∏–Ω–≥ DOCX –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- **python-docx** - –ß—Ç–µ–Ω–∏–µ DOCX —Ñ–∞–π–ª–æ–≤
- **openpyxl** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á–µ—Ç–æ–≤
- **pandas** - –û–±—Ä–∞–±–æ—Ç–∫–∞ CSV –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- **asyncpg** - Async PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
- **Docker & Docker Compose** - –ó–∞–ø—É—Å–∫ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- **Pydantic** - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (.env)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tender_matcher_bot/
‚îú‚îÄ‚îÄ .env                        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ Dockerfile                  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ docker-compose.yml          # –ó–∞–ø—É—Å–∫ —Å–≤—è–∑–∫–∏ –ë–æ—Ç + –ë–î
‚îú‚îÄ‚îÄ alembic.ini                 # –ö–æ–Ω—Ñ–∏–≥ –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ alembic/                    # –ü–∞–ø–∫–∞ —Å –≤–µ—Ä—Å–∏—è–º–∏ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
‚îú‚îÄ‚îÄ bot.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config.py                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ pydantic-settings
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ db.py                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models.py               # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ crud.py                 # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ start.py                # –û–±—Ä–∞–±–æ—Ç–∫–∞ /start
‚îÇ   ‚îî‚îÄ‚îÄ document.py             # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ DOCX
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ openai_service.py       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API
‚îÇ   ‚îú‚îÄ‚îÄ docx_parser.py          # –ü–∞—Ä—Å–∏–Ω–≥ DOCX —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ matcher.py              # –õ–æ–≥–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ excel_generator.py      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ logger.py               # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ auth.py                 # Whitelist –ø—Ä–æ–≤–µ—Ä–∫–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ csv/                    # –ü–∞–ø–∫–∞ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ CSV —Ñ–∞–π–ª–∞–º–∏ (45-50 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 07_11__ISS_v29_–õ–∏—Å—Ç1.csv
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ESR_cleaned.csv
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ me_v1_cleaned.csv
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ sample_tz/              # –ü—Ä–∏–º–µ—Ä—ã –¢–ó –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tender_example_1.docx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tender_example_2.pdf
‚îÇ   ‚îú‚îÄ‚îÄ normalization_map.json  # –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
‚îÇ   ‚îî‚îÄ‚îÄ headers_report.json     # –†–µ–∑—É–ª—å—Ç–∞—Ç scan_headers.py (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ scan_headers.py         # –ê–Ω–∞–ª–∏–∑ CSV –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
    ‚îî‚îÄ‚îÄ import_csv.py           # –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ CSV –≤ –ë–î
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: models

```sql
CREATE TABLE models (
    id SERIAL PRIMARY KEY,
    model_name VARCHAR(255) NOT NULL,           -- –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: MES3710P)
    category VARCHAR(255),                      -- –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–∫–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã, —Ä–æ—É—Ç–µ—Ä—ã –∏ —Ç.–¥.)
    source_file VARCHAR(100) NOT NULL,          -- –ò—Å—Ç–æ—á–Ω–∏–∫ (v20, v21, finalupd –∏ —Ç.–¥.)
    specifications JSONB NOT NULL,              -- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (–¥–ª—è –ø–æ–∏—Å–∫–∞)
    raw_specifications JSONB,                   -- –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
CREATE INDEX idx_model_name ON models(model_name);
CREATE INDEX idx_category ON models(category);
CREATE INDEX idx_source_file ON models(source_file);
CREATE INDEX idx_specifications_gin ON models USING GIN (specifications);
```

**–ó–∞—á–µ–º –¥–≤–∞ –ø–æ–ª—è?**
- `specifications` - –¥–ª—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ (—á–∏—Å—Ç—ã–µ int/bool/string)
- `raw_specifications` - –¥–ª—è Excel –æ—Ç—á–µ—Ç–æ–≤ –∏ –æ—Ç–ª–∞–¥–∫–∏ (–∏—Å—Ö–æ–¥–Ω—ã–µ "24 –ø–æ—Ä—Ç–∞", "200 –í—Ç")
- –ï—Å–ª–∏ —É–ª—É—á—à–∏—à—å –∞–ª–≥–æ—Ä–∏—Ç–º –æ—á–∏—Å—Ç–∫–∏ - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `specifications` –∏–∑ `raw_specifications` –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ª–∏–≤–∫–∏ CSV

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ –ë–î:**
```json
{
    "model_name": "MES3710P",
    "category": "–ö–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã",        // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ source_file –∏–ª–∏ –º–æ–¥–µ–ª–∏
    "source_file": "v29",
    "specifications": {
        "ports_1g_sfp": 24,
        "power_watt": 200,
        "ipv6_support": true,
        "cooling_type": "–ê–∫—Ç–∏–≤–Ω–æ–µ"
    },
    "raw_specifications": {
        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP": "24 –ø–æ—Ä—Ç–∞",
        "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å": "200 –í—Ç",
        "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IPv6": "–î–∞",
        "–¢–∏–ø –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è": "–ê–∫—Ç–∏–≤–Ω–æ–µ"
    }
}
```

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
–ö–∞—Ç–µ–≥–æ—Ä–∏—è –º–æ–¥–µ–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):
1. –ï—Å–ª–∏ –≤ CSV –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞ "–¢–∏–ø –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞" / "–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞" ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë
2. –ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ –º–∞–ø–ø–∏–Ω–≥—É source_file (–¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ `scripts/import_csv.py`):
   ```python
   # –í scripts/import_csv.py (–≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞, –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤)
   CATEGORY_MAPPING = {
       "MES": "–ö–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã",
       "ESR": "–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã",
       "ISS": "–ö–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã",
       "Fastpath": "–ö–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã",
       "ME": "–ö–æ–º–º—É—Ç–∞—Ç–æ—Ä—ã"
   }
   
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:
   def extract_category(source_file: str, row_data: dict) -> str:
       # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –≤ CSV
       if "–¢–∏–ø –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞" in row_data:
           return row_data["–¢–∏–ø –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞"]
       # –ò–Ω–∞—á–µ - –ø–æ –º–∞–ø–ø–∏–Ω–≥—É
       return CATEGORY_MAPPING.get(source_file, "–ü—Ä–æ—á–µ–µ")
   ```
3. –ï—Å–ª–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–∏ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç - –æ—Å—Ç–∞–≤–∏—Ç—å NULL (–∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é –ø–æ–∑–∂–µ)

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–ö–†–ò–¢–ò–ß–ù–û!)

**–ü—Ä–æ–±–ª–µ–º–∞:** CSV —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP" vs "–ü–æ—Ä—Ç—ã 1G SFP" vs "SFP 1G ports"
- "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å" vs "Power consumption" vs "–ú–æ—â–Ω–æ—Å—Ç—å"

**–†–µ—à–µ–Ω–∏–µ:** –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –∏–º–ø–æ—Ä—Ç–∞ CSV ‚Üí –ë–î

**1. –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤** (`data/normalization_map.json`):

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è MVP (15-20 –∫–ª—é—á–µ–π):**
–ù–∞—á–Ω–∏—Ç–µ —Å —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –∏ —á–∞—Å—Ç—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.

```json
{
  "canonical_keys": {
    "ports_1g_sfp": [
      "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP",
      "–ü–æ—Ä—Ç—ã 1G SFP",
      "SFP 1G",
      "1G SFP ports"
    ],
    "ports_10g_sfp": [
      "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 10G SFP+",
      "–ü–æ—Ä—Ç—ã 10G",
      "10G SFP+",
      "Upstream 10G"
    ],
    "ports_1000base_t": [
      "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1000BASE-T",
      "–ü–æ—Ä—Ç—ã GigabitEthernet",
      "1000BASE-T ports"
    ],
    "power_watt": [
      "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å",
      "Power consumption",
      "–ú–æ—â–Ω–æ—Å—Ç—å",
      "–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏"
    ],
    "ipv6_support": [
      "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IPv6",
      "IPv6",
      "IPv6 support"
    ],
    "vlan_support": [
      "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ IEEE 802.1Q (VLAN)",
      "VLAN support",
      "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ VLAN"
    ],
    "snmp_support": [
      "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ SNMPv3",
      "SNMP support",
      "SNMPv3"
    ],
    "cooling_type": [
      "–¢–∏–ø –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è",
      "–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ",
      "Cooling type"
    ],
    "ram_gb": [
      "–û–±—ä–µ–º –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏",
      "RAM",
      "–ü–∞–º—è—Ç—å"
    ],
    "flash_mb": [
      "–û–±—ä–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",
      "Flash memory",
      "–§–ª–µ—à-–ø–∞–º—è—Ç—å"
    ]
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —Ä–µ–∞–ª—å–Ω–æ–º JSON —Ñ–∞–π–ª–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –î–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ –∫–ª—é—á–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**–ö–∞–∫ —Ä–∞—Å—à–∏—Ä—è—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `scripts/scan_headers.py` —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —á–∞—Å—Ç–æ—Ç—É –∫–æ–ª–æ–Ω–æ–∫.
–î–æ–±–∞–≤–ª—è–π—Ç–µ –≤ normalization_map —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ >3 —Ñ–∞–π–ª–∞—Ö.

**2. –û—á–∏—Å—Ç–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π** (—Ñ—É–Ω–∫—Ü–∏—è –≤ `scripts/import_csv.py`):
```python
import re
from typing import Any, Optional

def clean_spec_value(key: str, value: Any) -> Optional[Any]:
    """
    –û—á–∏—Å—Ç–∫–∞ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É.
    
    –ü—Ä–∞–≤–∏–ª–∞:
    - –ß–∏—Å–ª–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ ‚Üí int/float (—É–¥–∞–ª—è–µ–º –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è)
    - –ë—É–ª–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ ‚Üí boolean
    - –¢–µ–∫—Å—Ç–æ–≤—ã–µ ‚Üí –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    - –ü—É—Å—Ç—ã–µ/None ‚Üí None
    
    –í–ê–ñ–ù–û: –°–ª–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ "2 –º–æ–¥—É–ª—è –ø–æ 4 –ø–æ—Ä—Ç–∞" –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
    –¢–∞–∫–∏–µ —Å–ª—É—á–∞–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ raw_specifications –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.
    """
    if value is None or str(value).strip() == "":
        return None
    
    value_str = str(value).strip()
    
    # –ß–∏—Å–ª–æ–≤—ã–µ –ø–æ–ª—è (–ø–æ—Ä—Ç—ã, –ø–∞–º—è—Ç—å –∏ —Ç.–¥.)
    numeric_keys = [
        "ports_1g_sfp", "ports_10g_sfp", "ports_1000base_t", 
        "ram_gb", "flash_mb", "packet_buffer_mb"
    ]
    if key in numeric_keys:
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (—Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è)
        # –ü—Ä–∏–º–µ—Ä—ã: "2 –º–æ–¥—É–ª—è –ø–æ 4 –ø–æ—Ä—Ç–∞", "8 x 10G", "2+2 –ø–æ—Ä—Ç–∞"
        complex_patterns = [r'\b–ø–æ\b', r'\b—Ö\b', r'\bx\b', r'[+\-*/]']
        if any(re.search(pattern, value_str, re.IGNORECASE) for pattern in complex_patterns):
            # –°–ª–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –æ—Å—Ç–∞–≤–ª—è–µ–º –≤ raw, –ø–æ–º–µ—á–∞–µ–º –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
            logger.warning(f"Complex value for {key}: {value_str} - needs manual review")
            return None  # –ù–µ –ø—ã—Ç–∞–µ–º—Å—è –ø–∞—Ä—Å–∏—Ç—å, –ø—É—Å—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä —Ä–µ—à–∞–µ—Ç
        
        # "24 –ø–æ—Ä—Ç–∞" ‚Üí 24
        # "–¥–æ 50" ‚Üí 50
        digits = re.findall(r'\d+\.?\d*', value_str)
        if digits:
            return int(float(digits[0]))
        return None
    
    # –ú–æ—â–Ω–æ—Å—Ç—å (–∏—â–µ–º —á–∏—Å–ª–æ –ø–µ—Ä–µ–¥ "–í—Ç" –∏–ª–∏ "W")
    if key == "power_watt":
        # "200 –í—Ç" ‚Üí 200
        # "2 –±–ª–æ–∫–∞ –ø–∏—Ç–∞–Ω–∏—è –ø–æ 200–í—Ç" ‚Üí 200 (–∏—â–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –ø–µ—Ä–µ–¥ "–í—Ç")
        match = re.search(r'(\d+\.?\d*)\s*(?:–í—Ç|W)', value_str, re.IGNORECASE)
        if match:
            return int(float(match.group(1)))
        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ "–í—Ç", –±–µ—Ä–µ–º –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ
        digits = re.findall(r'\d+\.?\d*', value_str)
        if digits:
            return int(float(digits[0]))
        return None
    
    # –ë—É–ª–µ–≤—ã–µ –ø–æ–ª—è (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π)
    boolean_keys = [
        "ipv6_support", "poe_support", "vlan_support",
        "snmp_support", "ssh_support", "redundancy_support"
    ]
    if key in boolean_keys:
        val_lower = value_str.lower()
        positive = ["–¥–∞", "yes", "+", "true", "–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è", "–µ—Å—Ç—å", "–∏–º–µ–µ—Ç—Å—è"]
        negative = ["–Ω–µ—Ç", "no", "-", "false", "–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è", "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"]
        
        if any(p in val_lower for p in positive):
            return True
        if any(n in val_lower for n in negative):
            return False
        return None
    
    # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è - —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
    return value_str

def normalize_column_name(column: str, normalization_map: dict) -> str:
    """
    –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –∫–æ–ª–æ–Ω–∫–∏ –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–ª—é—á.
    
    Args:
        column: –ò—Å—Ö–æ–¥–Ω–æ–µ –∏–º—è –∫–æ–ª–æ–Ω–∫–∏ –∏–∑ CSV
        normalization_map: –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤
    
    Returns:
        –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–ª—é—á –∏–ª–∏ –∏—Å—Ö–æ–¥–Ω–æ–µ –∏–º—è (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ)
    """
    for canonical_key, synonyms in normalization_map["canonical_keys"].items():
        if column in synonyms:
            return canonical_key
    
    # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ —Å–ª–æ–≤–∞—Ä–µ - –ª–æ–≥–∏—Ä—É–µ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
    logger.warning(f"Unknown column: {column}")
    return column
```

**3. –ü—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π:**
```python
# scripts/import_csv.py
import json
import pandas as pd

# –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–æ–≤–∞—Ä—è —Å–∏–Ω–æ–Ω–∏–º–æ–≤
with open("data/normalization_map.json", "r", encoding="utf-8") as f:
    normalization_map = json.load(f)

# –ß—Ç–µ–Ω–∏–µ CSV
df = pd.read_csv("data/csv/ESR_cleaned.csv")

models = []
for _, row in df.iterrows():
    # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
    specifications = {}
    raw_specifications = {}
    
    for column, value in row.items():
        if column == "model_name":
            continue  # model_name - –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        if value is not None and str(value).strip() != "":
            raw_specifications[column] = str(value)
        
        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∏–º—è –∫–æ–ª–æ–Ω–∫–∏ –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∫–ª—é—á
        canonical_key = normalize_column_name(column, normalization_map)
        
        # –û—á–∏—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        clean_value = clean_spec_value(canonical_key, value)
        
        if clean_value is not None:
            specifications[canonical_key] = clean_value
    
    models.append({
        "model_name": row["model_name"],
        "source_file": extract_source_from_filename("ESR_cleaned.csv"),
        "specifications": specifications,
        "raw_specifications": raw_specifications  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    })

# Bulk insert –≤ –ë–î
await bulk_create_models(models)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ë–î:**
–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∏–∑ –∫–∞–∫–æ–≥–æ CSV —Ñ–∞–π–ª–∞ –ø—Ä–∏—à–ª–∏ –¥–∞–Ω–Ω—ã–µ, –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –µ–¥–∏–Ω—ã–µ –∫–ª—é—á–∏:
```json
{
    "ports_1g_sfp": 24,          // –í—Å–µ–≥–¥–∞ —ç—Ç–æ—Ç –∫–ª—é—á
    "power_watt": 200,           // –í—Å–µ–≥–¥–∞ —á–∏—Å–ª–æ –±–µ–∑ –µ–¥–∏–Ω–∏—Ü
    "ipv6_support": true         // –í—Å–µ–≥–¥–∞ boolean
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ SQL –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–æ: `WHERE (spec->>'power_watt')::int <= 200`
- ‚úÖ OpenAI –≤–∏–¥–∏—Ç –µ–¥–∏–Ω—ã–µ –∫–ª—é—á–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
- ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ `services/matcher.py`
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–∏–Ω–æ–Ω–∏–º—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –°–ª–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ("2 –º–æ–¥—É–ª—è –ø–æ 4 –ø–æ—Ä—Ç–∞") —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `raw_specifications` –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –¢–∞–±–ª–∏—Ü–∞: users (Whitelist)

```sql
CREATE TABLE users (
    telegram_id BIGINT PRIMARY KEY,             -- Telegram user ID
    username VARCHAR(255),                      -- Telegram username
    full_name VARCHAR(255),                     -- –ü–æ–ª–Ω–æ–µ –∏–º—è
    is_admin BOOLEAN DEFAULT TRUE,              -- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ = –∞–¥–º–∏–Ω—ã
    created_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞: search_history (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)

```sql
CREATE TABLE search_history (
    id SERIAL PRIMARY KEY,
    user_id BIGINT REFERENCES users(telegram_id),
    docx_filename VARCHAR(500),                 -- –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
    requirements JSONB,                         -- –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –¢–ó
    results_summary JSONB,                      -- –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    created_at TIMESTAMP DEFAULT NOW()
);
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏–∑ .env.example:**
```bash
cp .env.example .env
```

**.env.example (—à–∞–±–ª–æ–Ω):**
```bash
# ===========================================
# TELEGRAM BOT
# ===========================================
# –ü–æ–ª—É—á–∏—Ç—å —É @BotFather –≤ Telegram
BOT_TOKEN=1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ

# ===========================================
# POSTGRESQL DATABASE
# ===========================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=tender_matcher
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here  # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–¨!

# ===========================================
# OPENAI API
# ===========================================
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞ https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–¨!
OPENAI_MODEL=gpt-4o              # –ú–æ–¥–µ–ª—å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (–≠—Ç–∞–ø –ë)
OPENAI_ROUTER_MODEL=gpt-4o-mini  # –î–µ—à–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ—Ö—Å–µ–∫—Ü–∏–∏ (–≠—Ç–∞–ø –ê)

# ===========================================
# WHITELIST (Admin IDs —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
# ===========================================
# –í–∞—à–∏ Telegram User IDs (–ø–æ–ª—É—á–∏—Ç—å —É @userinfobot)
ADMIN_IDS=123456789,987654321  # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–¨!

# ===========================================
# –ù–ê–°–¢–†–û–ô–ö–ò –°–û–ü–û–°–¢–ê–í–õ–ï–ù–ò–Ø
# ===========================================
MATCH_THRESHOLD=70  # –ü–æ—Ä–æ–≥ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 70%)
ALLOW_LOWER_VALUES=false  # –†–∞–∑—Ä–µ—à–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –º–µ–Ω—å—à–µ —Ç—Ä–µ–±—É–µ–º—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä: 180W –≤–º–µ—Å—Ç–æ 200W)

# ===========================================
# –õ–û–ì–ò–†–û–í–ê–ù–ò–ï
# ===========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
```

## MVP –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—á—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å)

### –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏:**

1. **database/models.py** - –°–æ–∑–¥–∞—Ç—å SQLAlchemy –º–æ–¥–µ–ª–∏:
   - `User` (telegram_id PK, username, full_name, is_admin, created_at)
   - `Model` (id PK, model_name, category, source_file, specifications JSONB, raw_specifications JSONB, created_at, updated_at)
   - `SearchHistory` (id PK, user_id FK, docx_filename, requirements JSONB, results_summary JSONB, created_at)

2. **database/db.py** –∏ –ú–∏–≥—Ä–∞—Ü–∏–∏ - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
   - –°–æ–∑–¥–∞–Ω–∏–µ async engine
   - –§–∞–±—Ä–∏–∫—É —Å–µ—Å—Å–∏–π (async_session_maker)
   - **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Alembic:**
     - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `alembic init -t async alembic`
     - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `env.py` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
     - –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏: `alembic revision --autogenerate -m "Initial schema"`
   - –§—É–Ω–∫—Ü–∏—è `get_session()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

3. **database/crud.py** - –û—Å–Ω–æ–≤–Ω—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:
   - `get_user(telegram_id)`, `create_user(telegram_id, username, full_name)`
   - `get_all_models()`, `get_models_by_category(category)`, `get_model_by_name(model_name)`
   - `get_models_count()` - –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π –≤ –ë–î
   - `search_models_by_specs(specifications: dict)` - –ü–æ–∏—Å–∫ –º–æ–¥–µ–ª–µ–π –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
   - `create_model(model_data: dict)`, `bulk_create_models(models: list)`
   - `save_search_history(user_id, docx_filename, requirements, results)`

4. **scripts/scan_headers.py** - –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ CSV (–ü–ï–†–í–´–ô –®–ê–ì):
   - –°–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ CSV –≤ `data/csv/`
   - –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ —á–∞—Å—Ç–æ—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏—è
   - –í—ã–≥—Ä—É–∂–∞–µ—Ç –≤ `data/headers_report.json`:
     ```json
     {
       "headers": {
         "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP": {"count": 15, "files": ["ISS_v29", "MES_v10", ...]},
         "–ü–æ—Ä—Ç—ã 1G SFP": {"count": 8, "files": ["ESR", "Fastpath", ...]},
         "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å": {"count": 45, "files": [...]},
         ...
       },
       "total_files": 48,
       "total_unique_headers": 387
     }
     ```
   - –û–±–ª–µ–≥—á–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ `normalization_map.json` (–≤–∏–¥–Ω–æ –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —Å–∏–Ω–æ–Ω–∏–º—ã)
   - –ö–æ–º–∞–Ω–¥–∞: `docker-compose exec bot python scripts/scan_headers.py`
   - **–í–ê–ñ–ù–û:** –í—ã–ø–æ–ª–Ω–∏—Ç—å –î–û —Å–æ–∑–¥–∞–Ω–∏—è normalization_map.json –∏ –∏–º–ø–æ—Ä—Ç–∞!

5. **data/normalization_map.json** - –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (–í–¢–û–†–û–ô –®–ê–ì):
   - –ù–∞ –æ—Å–Ω–æ–≤–µ `headers_report.json` —Å–æ—Å—Ç–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é Claude Code
   - –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏
   - –ù–∞—á–∞—Ç—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ (15-20 –∫–ª—é—á–µ–π)
   - –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–º. –≤ —Å–µ–∫—Ü–∏–∏ "–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"
   - **–í–ê–ñ–ù–û:** –°–æ–∑–¥–∞—Ç—å –î–û –∏–º–ø–æ—Ä—Ç–∞ CSV!

6. **scripts/import_csv.py** - –ò–º–ø–æ—Ä—Ç CSV –≤ –ë–î —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π (–¢–†–ï–¢–ò–ô –®–ê–ì):
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–æ–≤–∞—Ä—è —Å–∏–Ω–æ–Ω–∏–º–æ–≤ –∏–∑ `data/normalization_map.json`
   - –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö CSV –∏–∑ –ø–∞–ø–∫–∏ `data/csv/`
   - –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞–∂–¥–æ–≥–æ CSV (pandas)
   - **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–æ–Ω–æ–∫:** –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏
   - **–û—á–∏—Å—Ç–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π:** —É–¥–∞–ª–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è, –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Ç–∏–ø–∞–º (int/bool/string)
   - **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π:** `specifications` (—á–∏—Å—Ç—ã–µ) + `raw_specifications` (–∏—Å—Ö–æ–¥–Ω—ã–µ)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ source_file –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "ESR_cleaned.csv" ‚Üí "ESR")
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ category –ø–æ –º–∞–ø–ø–∏–Ω–≥—É –∏–ª–∏ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏
   - Bulk insert –≤ —Ç–∞–±–ª–∏—Ü—É models
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
   - –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: `docker-compose exec bot python scripts/import_csv.py`
   - **–í–ê–ñ–ù–û:** –í—ã–ø–æ–ª–Ω–∏—Ç—å –ü–û–°–õ–ï —Å–æ–∑–¥–∞–Ω–∏—è normalization_map.json!

7. **config.py** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ pydantic-settings:
   - –ß—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env
   - `database_url` property –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è connection string
   - –í–∞–ª–∏–¥–∞—Ü–∏—è OPENAI_API_KEY, BOT_TOKEN
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è (match_threshold, allow_lower_values)

8. **middleware/auth.py** - Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ whitelist:
   - **–õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (5 —à–∞–≥–æ–≤):**
     1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å telegram_id –≤ —Ç–∞–±–ª–∏—Ü–µ users
     2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ò is_admin=True ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
     3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ ADMIN_IDS –∏–∑ .env
     4. –ï—Å–ª–∏ –µ—Å—Ç—å –≤ .env ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ users —Å is_admin=True –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
     5. –ò–Ω–∞—á–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –í–∞—à ID: {telegram_id}"

9. **handlers/start.py** - –û–±—Ä–∞–±–æ—Ç–∫–∞ /start:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –µ—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ë–î
   - –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å –≤ –ë–î (–µ—Å–ª–∏ –≤ whitelist)
   - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: "–û—Ç–ø—Ä–∞–≤—å—Ç–µ DOCX —Ñ–∞–π–ª —Å –¢–ó —Ç–µ–Ω–¥–µ—Ä–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ë–î —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ú–æ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- CSV –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –ë–î (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ whitelist —Ä–∞–±–æ—Ç–∞–µ—Ç
- /start –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI –∏ –ø–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–ó–∞–¥–∞—á–∏:**

1. **services/docx_parser.py** - –ß—Ç–µ–Ω–∏–µ DOCX:
   - –§—É–Ω–∫—Ü–∏—è `extract_text_from_docx(file_path: str) -> str`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∞–±–∑–∞—Ü—ã, —Ç–∞–±–ª–∏—Ü—ã)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–∞–π–ª, encoding issues)

2. **services/pdf_parser.py** - –ß—Ç–µ–Ω–∏–µ PDF (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ):
   - –§—É–Ω–∫—Ü–∏—è `extract_text_from_pdf(file_path: str) -> str`
   - –ò—Å–ø–æ–ª—å–∑—É–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É `pypdf` –∏–ª–∏ `pdfplumber` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ PDF (OCR —á–µ—Ä–µ–∑ `pytesseract` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏–∑ PDF
   - **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è PDF –ø–∞—Ä—Å–µ—Ä–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –±—É–¥—É—â–µ–µ

3. **services/openai_service.py** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI:
   
   **–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
   
   **–≠—Ç–∞–ø –ê: Router (–õ–æ–∫–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)**
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—à–µ–≤—É—é –º–æ–¥–µ–ª—å `gpt-4o-mini`
   - –§—É–Ω–∫—Ü–∏—è `extract_tech_section(document_text: str) -> str`
   - **–ü—Ä–æ–º–ø—Ç:**
     ```
     –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –Ω–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ —Ä–∞–∑–¥–µ–ª —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é.
     –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è", "–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è", 
     "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏", "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –¢–ó" –∏ —Ç.–ø.
     
     –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û —Ç–µ–∫—Å—Ç —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞. –ù–µ –ø–µ—Ä–µ—Å–∫–∞–∑—ã–≤–∞–π, –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π –∫–∞–∫ –µ—Å—Ç—å.
     –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–µ—Ä–Ω–∏ –≤–µ—Å—å —Ç–µ–∫—Å—Ç.
     
     –î–æ–∫—É–º–µ–Ω—Ç:
     {document_text}
     ```
   - –¶–µ–ª—å: –û–±—Ä–µ–∑–∞—Ç—å "—é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —à–µ–ª—É—Ö—É" (–¥–æ–≥–æ–≤–æ—Ä—ã, —É—Å–ª–æ–≤–∏—è —É—á–∞—Å—Ç–∏—è –∏ —Ç.–¥.)
   - –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤: –≤–º–µ—Å—Ç–æ 50k —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí 5-10k —Ç–æ–∫–µ–Ω–æ–≤
   
   **–≠—Ç–∞–ø –ë: Parser (–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)**
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–º–Ω—É—é –º–æ–¥–µ–ª—å `gpt-4o` (–∏–ª–∏ `gpt-4o-mini` –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏)
   - –§—É–Ω–∫—Ü–∏—è `parse_requirements(tech_section: str, file_type: str) -> dict`
   - **–ü—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π:**
     ```
     –¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–º—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é Eltex.
     
     –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–∞ –∏ –∏–∑–≤–ª–µ–∫–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é.
     
     –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û —ç—Ç–∏ –∫–ª—é—á–∏ –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (—Å–ø–∏—Å–æ–∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π):
     - ports_1g_sfp (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP)
     - ports_10g_sfp (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 10G SFP+)
     - power_watt (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å –≤ –≤–∞—Ç—Ç–∞—Ö)
     - ipv6_support (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ IPv6: true/false)
     - cooling_type (—Ç–∏–ø –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è)
     - ... (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ normalization_map.json)
     
     –í–µ—Ä–Ω–∏ JSON –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
     {
       "items": [
         {
           "model_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ —Ç–æ—á–Ω–æ) –∏–ª–∏ null",
           "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è",
           "required_specs": {
             "ports_1g_sfp": 24,           // –¢–æ–ª—å–∫–æ —á–∏—Å–ª–∞ –±–µ–∑ –µ–¥–∏–Ω–∏—Ü
             "power_watt": 200,            // –¢–æ–ª—å–∫–æ —á–∏—Å–ª–∞
             "ipv6_support": true,         // Boolean
             "cooling_type": "–ê–∫—Ç–∏–≤–Ω–æ–µ"    // –¢–µ–∫—Å—Ç
           }
         }
       ]
     }
     
     –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ({file_type}):
     {tech_section}
     ```
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç OpenAI
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API (rate limit, timeout, invalid JSON)
   
   **–§—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞:**
   ```python
   async def process_document(document_text: str, file_type: str) -> dict:
       """–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞"""
       # –≠—Ç–∞–ø –ê: –õ–æ–∫–∞—Ç–æ—Ä (–¥–µ—à–µ–≤–æ)
       tech_section = await extract_tech_section(document_text)
       logger.info(f"Tech section extracted: {len(tech_section)} chars")
       
       # –≠—Ç–∞–ø –ë: –ü–∞—Ä—Å–µ—Ä (–¥–æ—Ä–æ–∂–µ, –Ω–æ –º–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤)
       requirements = await parse_requirements(tech_section, file_type)
       logger.info(f"Requirements parsed: {len(requirements['items'])} items")
       
       return requirements
   ```
   
   **–≠–∫–æ–Ω–æ–º–∏—è:**
   - –ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: 50k input tokens √ó $0.01 = $0.50 –∑–∞ –∑–∞–ø—Ä–æ—Å
   - –° Router: 5k input tokens √ó $0.01 = $0.05 –∑–∞ –∑–∞–ø—Ä–æ—Å (10x —ç–∫–æ–Ω–æ–º–∏—è!)
   - Router (mini): ~$0.001 (–ø–æ—á—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

4. **handlers/document.py** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
   - –•–µ–Ω–¥–ª–µ—Ä –¥–ª—è —Ç–∏–ø–∞ —Å–æ–æ–±—â–µ–Ω–∏—è `document`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ .docx, .pdf –≤ –±—É–¥—É—â–µ–º)
   - **–û–±—Ä–∞–±–æ—Ç–∫–∞ PDF (–≤—Ä–µ–º–µ–Ω–Ω–æ):**
     ```python
     if file_ext == '.pdf':
         await message.answer(
             "‚ö†Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.\n"
             "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ DOCX."
         )
         return
     ```
   - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
   - **–†–æ—É—Ç–∏–Ω–≥ –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞:**
     - –ï—Å–ª–∏ .docx ‚Üí –≤—ã–∑–æ–≤ `docx_parser.extract_text_from_docx()`
     - –ï—Å–ª–∏ .pdf ‚Üí –≤—ã–∑–æ–≤ `pdf_parser.extract_text_from_pdf()` (–≤ –±—É–¥—É—â–µ–º)
   - –í—ã–∑–æ–≤ `openai_service.process_document(text, file_type)`
   - –ü–µ—Ä–µ–¥–∞—á–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –≤ `matcher.find_matching_models()`
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –¢–ó... üîç"

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- DOCX –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏ –ø–∞—Ä—Å–∏—Ç—Å—è
- –¢–µ–∫—Å—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- OpenAI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ (–Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞, –æ—à–∏–±–∫–∏ API)
- PDF –ø–∞—Ä—Å–µ—Ä –≥–æ—Ç–æ–≤ –∫ –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞)

---

### –≠—Ç–∞–ø 3: –õ–æ–≥–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

**–ó–∞–¥–∞—á–∏:**

1. **services/matcher.py** - –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –º–æ–¥–µ–ª–µ–π:
   - –§—É–Ω–∫—Ü–∏—è `find_matching_models(requirements: dict) -> dict`
   - **–ê–ª–≥–æ—Ä–∏—Ç–º:**
     1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –¢–ó:
        - –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ ‚Üí –∏—Å–∫–∞—Ç—å –ø–æ `model_name`
        - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –∏—Å–∫–∞—Ç—å –ø–æ `category` –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
     2. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫:
        - **–ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ**: –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç 100%
        - **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ**: ‚â•70% —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Å–æ–≤–ø–∞–¥–∞—é—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ MATCH_THRESHOLD)
        - **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç**: <70% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
     3. –î–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –≤—ã—á–∏—Å–ª–∏—Ç—å:
        - `match_percentage` (–ø—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è)
        - `matched_specs` (—Å–ø–∏—Å–æ–∫ —Å–æ–≤–ø–∞–≤—à–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫)
        - `missing_specs` (—Å–ø–∏—Å–æ–∫ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫)
        - `different_specs` (—Å–ø–∏—Å–æ–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Å –¥—Ä—É–≥–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)

   - **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π:**
     ```python
     def compare_spec_values(required_value, model_value, allow_lower=False):
         """
         –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.
         
         –ü—Ä–∞–≤–∏–ª–∞:
         - –°—Ç—Ä–æ–≥–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ: "–î–∞" == "–î–∞", "24" == "24"
         - –ß–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
           - –ï—Å–ª–∏ allow_lower=False: model_value == required_value
           - –ï—Å–ª–∏ allow_lower=True: model_value >= required_value * 0.95 (–¥–æ–ø—É—Å–∫ 5%)
         """
         # –õ–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
     ```

   - –§—É–Ω–∫—Ü–∏—è `calculate_match_percentage(required_specs, model_specs) -> float`
   - –§—É–Ω–∫—Ü–∏—è `categorize_matches(matches) -> dict`:
     ```python
     {
       "ideal": [...],      # 100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
       "partial": [...],    # 70-99% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
       "not_matched": [...]  # <70% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
     }
     ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenAI –¥–ª—è SQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   - –ï—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL –∑–∞–ø—Ä–æ—Å–∞
   - –ü—Ä–æ–º–ø—Ç: "–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π PostgreSQL –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏: {specs}"
   - **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SQL —á–µ—Ä–µ–∑ whitelist (—Ç–æ–ª—å–∫–æ SELECT, FROM, WHERE, JSONB –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –ú–æ–¥–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
- –ü—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∏–¥–µ–∞–ª—å–Ω–æ/—á–∞—Å—Ç–∏—á–Ω–æ/–Ω–µ –ø–æ–¥–æ—à–ª–æ)

---

### –≠—Ç–∞–ø 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á–µ—Ç–∞

**–ó–∞–¥–∞—á–∏:**

1. **services/excel_generator.py** - –°–æ–∑–¥–∞–Ω–∏–µ Excel —Ñ–∞–π–ª–∞:
   - –§—É–Ω–∫—Ü–∏—è `generate_report(requirements: dict, matches: dict, filename: str) -> str`
   
   - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel:**
     
     **–õ–∏—Å—Ç 1: "–°–≤–æ–¥–∫–∞" (Summary)**
     | –ú–æ–¥–µ–ª—å | –ò—Å—Ç–æ—á–Ω–∏–∫ | % —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
     |--------|----------|--------------|--------|------------|
     | MES3710P | v29 | 100% | ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ | –í—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç |
     | ESR-200 | ESR | 85% | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ú–æ—â–Ω–æ—Å—Ç—å: 180W (—Ç—Ä–µ–±—É–µ—Ç—Å—è 200W) |
     
     **–õ–∏—Å—Ç 2+: "–î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ - –ú–æ–¥–µ–ª—å X"**
     | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –¢—Ä–µ–±—É–µ—Ç—Å—è | –í –º–æ–¥–µ–ª–∏ | –°—Ç–∞—Ç—É—Å |
     |----------------|-----------|----------|--------|
     | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP | 24 | 24 –ø–æ—Ä—Ç–∞ | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
     | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ IPv6 | –î–∞ | –î–∞ | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
     | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å | 200W | 180 –í—Ç | ‚ùå –ù–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç |
     
     **–í–∞–∂–Ω–æ:** –í –∫–æ–ª–æ–Ω–∫–µ "–í –º–æ–¥–µ–ª–∏" –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ `raw_specifications` (–∏—Å—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è),
     –∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `specifications` (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ). –≠—Ç–æ –¥–∞—ë—Ç –ª—É—á—à—É—é —á–∏—Ç–∞–µ–º–æ—Å—Ç—å.

   - **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
     - –ó–∞–≥–æ–ª–æ–≤–∫–∏: –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç, –∑–∞–ª–∏–≤–∫–∞ —Å–µ—Ä—ã–º
     - –°—Ç–∞—Ç—É—Å—ã: —Ü–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (–∑–µ–ª–µ–Ω—ã–π/–∂–µ–ª—Ç—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
     - –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫
     - –§–∏–ª—å—Ç—Ä—ã –Ω–∞ –ø–µ—Ä–≤–æ–º –ª–∏—Å—Ç–µ

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ handlers/document.py:**
   - –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel —Ñ–∞–π–ª–∞
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ `bot.send_document()`
   - –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Excel –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ –ª–∏—Å—Ç—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- –§–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

### –≠—Ç–∞–ø 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–µ–π –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ó–∞–¥–∞—á–∏:**

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–µ–π –º–æ–¥–µ–ª–µ–π:**
   - –í –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –≤–µ—Ä—Å–∏–∏ (v20, v21, finalupd)
   - –í Excel –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥—É–±–ª—è —É–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫: `"MES3710P (v29)"`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç finalupd > v21 > v20 (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞ —Å–∞–º—É—é —Å–≤–µ–∂—É—é)

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `MATCH_THRESHOLD=70`
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–ø–µ—Ä–µ—á–∏—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è: 0 < threshold ‚â§ 100

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–ø—É—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π:**
   - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `ALLOW_LOWER_VALUES=false`
   - –ï—Å–ª–∏ true: –º–æ–¥–µ–ª—å —Å 180W –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ 200W (—Å –ø–æ–º–µ—Ç–∫–æ–π –≤ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è—Ö)

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ OpenAI (—Ç–æ–∫–µ–Ω—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
   - –û—à–∏–±–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `logs/errors.log`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –î—É–±–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## Docker Compose

```yaml
version: '3.8'

services:
  db:
    image: postgres:15
    container_name: tender_matcher_db
    environment:
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER}"]
      interval: 10s
      timeout: 5s
      retries: 5

  bot:
    build: .
    container_name: tender_matcher_bot
    depends_on:
      db:
        condition: service_healthy
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
      - POSTGRES_HOST=${POSTGRES_HOST}
      - POSTGRES_PORT=${POSTGRES_PORT}
      - POSTGRES_DB=${POSTGRES_DB}
      - POSTGRES_USER=${POSTGRES_USER}
      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_MODEL=${OPENAI_MODEL}
      - ADMIN_IDS=${ADMIN_IDS}
      - MATCH_THRESHOLD=${MATCH_THRESHOLD}
      - ALLOW_LOWER_VALUES=${ALLOW_LOWER_VALUES}
      - LOG_LEVEL=${LOG_LEVEL}
    volumes:
      - ./logs:/app/logs
      - ./data:/app/data  # –í–µ—Å—å data –∫–∞—Ç–∞–ª–æ–≥ (csv, sample_tz, normalization_map.json)
      - ./temp_files:/app/temp_files
    restart: unless-stopped

volumes:
  postgres_data:
```

## Dockerfile

```dockerfile
FROM python:3.10-slim

WORKDIR /app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN apt-get update && apt-get install -y \
    gcc \
    postgresql-client \
    && rm -rf /var/lib/apt/lists/*

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
COPY . .

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
RUN mkdir -p logs temp_files

CMD ["python", "bot.py"]
```

## requirements.txt

```
# Telegram Bot
aiogram==3.13.1

# Database
sqlalchemy==2.0.23
asyncpg==0.29.0
alembic==1.13.1

# Config & Validation
pydantic>=2.10.0
pydantic-settings>=2.6.0

# OpenAI
openai>=1.50.0

# Document Parsing
python-docx==1.1.0
openpyxl==3.1.2
pandas==2.1.4

# HTTP & Utils
aiohttp==3.9.1
python-dotenv==1.0.0

# PDF –ø–∞—Ä—Å–∏–Ω–≥ (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ)
pypdf==3.17.4
pdfplumber==0.10.3
# pytesseract==0.3.10  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—Å–ª–∏ –Ω—É–∂–µ–Ω OCR
# pillow==10.1.0       # –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è pytesseract
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)

```bash

# 1. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å)
cp .env.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Compose
docker-compose up -d

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
docker-compose ps

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
docker-compose exec bot alembic upgrade head

# 5. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å CSV –≤ –ë–î
docker-compose exec bot python scripts/import_csv.py

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f bot
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–æ—Ç–∞
docker-compose up -d --build bot

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
docker-compose exec bot alembic upgrade head
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î —á–µ—Ä–µ–∑ psql
docker-compose exec db psql -U postgres -d tender_matcher

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes (–æ—á–∏—Å—Ç–∫–∞ –ë–î)
docker-compose down -v
```

## –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π async/await –≤–µ–∑–¥–µ** - –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
2. **–ü–∏—à–∏ type hints** - –æ–±–ª–µ–≥—á–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É
3. **–õ–æ–≥–∏—Ä—É–π –≤–∞–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π utils/logger.py
4. **–î—É–º–∞–π –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**:
   - –í–∞–ª–∏–¥–∏—Ä—É–π –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (DOCX —Ñ–∞–π–ª—ã)
   - –°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–π SQL –∑–∞–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ OpenAI)
   - –ù–µ —Ö—Ä–∞–Ω–∏ —Ç–æ–∫–µ–Ω—ã –≤ –∫–æ–¥–µ
5. **–¢–µ—Å—Ç–∏—Ä—É–π –∫–∞–∂–¥—É—é –∑–∞–¥–∞—á—É** –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–π
6. **–ò—Å–ø–æ–ª—å–∑—É–π Docker**: –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ –∏ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ `docker-compose`
7. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –æ—à–∏–±–∫–∏** - try/except –¥–ª—è OpenAI API, –ë–î –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–∞—Ä—Å–∏–Ω–≥–∞
8. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Gitignore)** - –£–±–µ–¥–∏—Å—å, —á—Ç–æ .env, logs/, temp_files/, __pycache__/ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .gitignore

### –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

1. **–°–Ω–∞—á–∞–ª–∞ CRUD** - –¥–æ–±–∞–≤—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `database/crud.py`
2. **–ü–æ—Ç–æ–º services** - —Ä–µ–∞–ª–∏–∑—É–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
3. **–ó–∞—Ç–µ–º handlers** - —Å–≤—è–∂–∏ –≤—Å—ë –≤–æ–µ–¥–∏–Ω–æ
4. **–¢–µ—Å—Ç–∏—Ä—É–π** - –ø—Ä–æ–≤–µ—Ä—å –∫–∞–∂–¥—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –∏–∑–±–µ–≥–∞—Ç—å:

- ‚ùå –ó–∞–±—ã—Ç—å `await` –ø–µ—Ä–µ–¥ async —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç DOCX –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚ùå –ù–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è OpenAI API (rate limit, timeout)
- ‚ùå –•—Ä–∞–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è
- ‚ùå –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚ùå –ù–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å JSON –æ—Ç OpenAI –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

### –î–µ–±–∞–≥–≥–∏–Ω–≥:

- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏ –≤ `logs/bot.log`
- –ò—Å–ø–æ–ª—å–∑—É–π `logger.error()` –¥–ª—è –æ—à–∏–±–æ–∫
- –ò—Å–ø–æ–ª—å–∑—É–π `logger.info()` –¥–ª—è –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ü—Ä–æ–≤–µ—Ä—è–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î —á–µ—Ä–µ–∑ psql
- –¢–µ—Å—Ç–∏—Ä—É–π OpenAI –ø—Ä–æ–º–ø—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

1. **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** > –∫—Ä–∞—Å–æ—Ç–∞ –∫–æ–¥–∞
2. **–¢–æ—á–Ω–æ—Å—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è** > —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** > —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å

–≠—Ç–æ MVP. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º.

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å:** –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- `pypdf` –∏–ª–∏ `pdfplumber` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
- `pytesseract` + `pillow` –¥–ª—è OCR (–µ—Å–ª–∏ PDF —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- `tabula-py` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏–∑ PDF

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
services/
‚îú‚îÄ‚îÄ docx_parser.py      # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä—Å–µ—Ä DOCX
‚îú‚îÄ‚îÄ pdf_parser.py       # –ù–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä PDF
‚îî‚îÄ‚îÄ document_parser.py  # Unified –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# services/pdf_parser.py
import pdfplumber
from typing import Optional

async def extract_text_from_pdf(file_path: str) -> str:
    """
    –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF —Ñ–∞–π–ª–∞.
    
    –°—Ç—Ä–∞—Ç–µ–≥–∏—è:
    1. –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –Ω–∞–ø—Ä—è–º—É—é (—Ü–∏—Ñ—Ä–æ–≤–æ–π PDF)
    2. –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç–∞ –º–∞–ª–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OCR (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PDF)
    3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –æ—Ç–¥–µ–ª—å–Ω–æ
    """
    try:
        with pdfplumber.open(file_path) as pdf:
            # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
            text = ""
            for page in pdf.pages:
                text += page.extract_text() or ""
                
                # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
                tables = page.extract_tables()
                for table in tables:
                    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Ç–µ–∫—Å—Ç
                    text += "\n" + format_table(table)
            
            return text.strip()
    except Exception as e:
        logger.error(f"PDF parsing error: {e}")
        raise

def format_table(table: list) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ OpenAI"""
    # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç
    pass
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –û–±–Ω–æ–≤–∏—Ç—å `handlers/document.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (.pdf)
- –†–æ—É—Ç–∏–Ω–≥: –µ—Å–ª–∏ .pdf ‚Üí `pdf_parser`, –µ—Å–ª–∏ .docx ‚Üí `docx_parser`
- –ï–¥–∏–Ω—ã–π –ø—Ä–æ–º–ø—Ç OpenAI –¥–ª—è –æ–±–æ–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ PDF:**
- PDF –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è OCR)
- –¢–∞–±–ª–∏—Ü—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º–∏ (–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏)
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Telegram 20MB)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–∏–º–µ—Ä—ã –¢–ó –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF –≤ `data/sample_tz/`
- –¢–µ—Å—Ç—ã –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö PDF (—Ç–µ–∫—Å—Ç)
- –¢–µ—Å—Ç—ã –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF (OCR)
- –¢–µ—Å—Ç—ã –¥–ª—è PDF —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏


### 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- Redis –¥–ª—è –∫—ç—à–∞ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π
- –ö—ç—à –ø—Ä–æ–º–ø—Ç–æ–≤ OpenAI (–µ—Å–ª–∏ –¢–ó –ø–æ—Ö–æ–∂–∏)
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ë–î

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CSV –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ—Ü–µ—Å—Å:**
- Webhook –∏–ª–∏ cron job –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö CSV
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∞–¥–º–∏–Ω–∞
- –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π (changelog)

### 4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

**–§—É–Ω–∫—Ü–∏–∏:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º (–∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ —á–∞—â–µ –∏—â—É—Ç)
- –¢–æ–ø-10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Ç–µ–Ω–¥–µ—Ä–æ–≤ (—Ç—Ä–µ–Ω–¥—ã)

### 5. –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º

**–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ (–∞–¥–º–∏–Ω/–º–µ–Ω–µ–¥–∂–µ—Ä/–ø—Ä–æ—Å–º–æ—Ç—Ä)
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞ 1: OpenAI –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–µ–ø–æ–ª–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
- **–°–∏–º–ø—Ç–æ–º:** –í JSON –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–∞–∂–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç (–¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chain-of-Thought (–ø–æ–ø—Ä–æ—Å–∏—Ç—å AI –æ–±—ä—è—Å–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É)
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–∞ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π)

**–ü—Ä–æ–±–ª–µ–º–∞ 2: JSONB –∑–∞–ø—Ä–æ—Å—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ**
- **–°–∏–º–ø—Ç–æ–º:** –ü–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º –∑–∞–Ω–∏–º–∞–µ—Ç >5 —Å–µ–∫—É–Ω–¥
- **–†–µ—à–µ–Ω–∏–µ:**
  - –°–æ–∑–¥–∞—Ç—å GIN –∏–Ω–¥–µ–∫—Å –Ω–∞ JSONB –∫–æ–ª–æ–Ω–∫—É
  - –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL full-text search

**–ü—Ä–æ–±–ª–µ–º–∞ 3: –î—É–±–ª–∏ –º–æ–¥–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏**
- **–°–∏–º–ø—Ç–æ–º:** MES3710P –≤ v20 –∏–º–µ–µ—Ç –¥—Ä—É–≥–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —á–µ–º –≤ finalupd
- **–†–µ—à–µ–Ω–∏–µ:**
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –≤–µ—Ä—Å–∏–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫–∞
  - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `is_latest` (boolean) –¥–ª—è —Å–∞–º–æ–π —Å–≤–µ–∂–µ–π –≤–µ—Ä—Å–∏–∏
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: finalupd > v_XX (–ø–æ —É–±—ã–≤–∞–Ω–∏—é –Ω–æ–º–µ—Ä–∞ –≤–µ—Ä—Å–∏–∏)

**–ü—Ä–æ–±–ª–µ–º–∞ 4: –ë–æ–ª—å—à–∏–µ DOCX —Ñ–∞–π–ª—ã (>10MB)**
- **–°–∏–º–ø—Ç–æ–º:** Telegram API –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- **–†–µ—à–µ–Ω–∏–µ:**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ (MAX_FILE_SIZE_MB=20)
  - –°–∂–∞—Ç–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ OpenAI (—É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤/–ø–µ—Ä–µ–Ω–æ—Å–æ–≤)

**–ü—Ä–æ–±–ª–µ–º–∞ 5: OpenAI API rate limit**
- **–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ 429 Too Many Requests
- **–†–µ—à–µ–Ω–∏–µ:**
  - Retry —Å exponential backoff
  - –û—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¢–ó

**–ü—Ä–æ–±–ª–µ–º–∞ 6: Excel —Ñ–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (>1000 —Å—Ç—Ä–æ–∫)**
- **–°–∏–º–ø—Ç–æ–º:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —Ñ–∞–π–ª —Ç—è–∂–µ–ª—ã–π
- **–†–µ—à–µ–Ω–∏–µ:**
  - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Å—Ç–æ–≤ (—Ç–æ–ø-50 –º–æ–¥–µ–ª–µ–π)
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ (–∏–¥–µ–∞–ª—å–Ω—ã–µ/—á–∞—Å—Ç–∏—á–Ω—ã–µ –æ—Ç–¥–µ–ª—å–Ω–æ)
  - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ–ø N –º–æ–¥–µ–ª–µ–π"

**–ü—Ä–æ–±–ª–µ–º–∞ 7: –°–ª–æ–∂–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ CSV**
- **–°–∏–º–ø—Ç–æ–º:** –ó–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ "2 –º–æ–¥—É–ª—è –ø–æ 4 –ø–æ—Ä—Ç–∞", "8 x 10G SFP" –ø–∞—Ä—Å—è—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –§—É–Ω–∫—Ü–∏—è `clean_spec_value()` –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —Ç–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (–ø–∞—Ç—Ç–µ—Ä–Ω—ã: "–ø–æ", "x", "+", "-", "*", "/")
  - –õ–æ–≥–∏—Ä—É–µ—Ç WARNING –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None (–Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–∞—Ä—Å–∏—Ç—å)
  - –ò—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `raw_specifications`
  - –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç –≤ Excel –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é
  - **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –£–ª—É—á—à–∏—Ç—å regex –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2 –ø–æ 4" ‚Üí 8)
  - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è MVP:** –û—Å—Ç–∞–≤–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ –≤ –ë–î



## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Claude Code

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Claude Code

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSONB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (—Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –ø–æ–ª–µ–π)
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (async/await)
- Docker –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω - –ù–ï –ø—Ä–µ–¥–ª–∞–≥–∞–π –ª–æ–∫–∞–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- OpenAI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DOCX (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) + PDF (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
- CSV —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `data/csv/` (45-50 —Ñ–∞–π–ª–æ–≤)
- –ü—Ä–∏–º–µ—Ä—ã –¢–ó –≤ –ø–∞–ø–∫–µ `data/sample_tz/` (.docx –∏ .pdf)
- –°–ª–æ–≤–∞—Ä—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `data/normalization_map.json` (–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏)
- CSV –∏–º–µ—é—Ç —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (ISS ~250 –∫–æ–ª–æ–Ω–æ–∫, ESR ~180 –∫–æ–ª–æ–Ω–æ–∫)
- –û–±—â–∞—è –∫–æ–ª–æ–Ω–∫–∞: `model_name` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)
- Source file –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –∏–º–µ–Ω–∏ CSV (–Ω–∞–ø—Ä–∏–º–µ—Ä: "ESR_cleaned.csv" ‚Üí "ESR")
- –í—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSONB –ø–æ–ª–µ `specifications`
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ö–†–ò–¢–ò–ß–ù–ê: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP" ‚Üí `ports_1g_sfp`, "200 –í—Ç" ‚Üí `200`

**–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã:**

1. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:**
   - –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π type hints
   - –î–æ–±–∞–≤–ª—è–π docstrings –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
   - –ò–º–ø–æ—Ä—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É–π: stdlib ‚Üí third-party ‚Üí local
   - –ò—Å–ø–æ–ª—å–∑—É–π async/await –¥–ª—è –≤—Å–µ—Ö I/O –æ–ø–µ—Ä–∞—Ü–∏–π

2. **–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:**
   - –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∑–∞–ø–∏—Å–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π JSONB –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã PostgreSQL –¥–ª—è –ø–æ–∏—Å–∫–∞ (@>, ?, jsonb_path_query)
   - –ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ –∏–Ω–¥–µ–∫—Å—ã (GIN –¥–ª—è JSONB)
   - –ò—Å–ø–æ–ª—å–∑—É–π bulk_insert –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (import_csv.py)
   - –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏ –∏–∑ normalization_map.json
   - –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞: `WHERE (specifications->>'ports_1g_sfp')::int >= 24`

3. **–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å OpenAI API:**
   - –î–í–£–•–≠–¢–ê–ü–ù–ê–Ø –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ (Router ‚Üí Parser)
   - Router (gpt-4o-mini): –Ω–∞—Ö–æ–¥–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Å–µ–∫—Ü–∏—é –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
   - Parser (gpt-4o): –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–º–∏ –∫–ª—é—á–∞–º–∏
   - –í—Å–µ–≥–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–π –≤ try/except (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π rate limit, timeout)
   - –õ–æ–≥–∏—Ä—É–π –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã (–º–æ–¥–µ–ª—å, —Ç–æ–∫–µ–Ω—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
   - –í–∫–ª—é—á–∞–π —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π –≤ –ø—Ä–æ–º–ø—Ç –¥–ª—è Parser
   - –ö—ç—à–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ

4. **–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Excel:**
   - –ò—Å–ø–æ–ª—å–∑—É–π openpyxl (–Ω–µ xlsxwriter)
   - –°–æ–∑–¥–∞–≤–∞–π –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ (–¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ)
   - –ü—Ä–∏–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ü–≤–µ—Ç–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤, –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä —à–∏—Ä–∏–Ω—ã)
   - –ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ –ø–µ—Ä–≤–æ–º –ª–∏—Å—Ç–µ

5. **–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π:**
   - –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–π –º–æ–¥–µ–ª–∏ SQLAlchemy (–Ω–µ dict)
   - –ò—Å–ø–æ–ª—å–∑—É–π `async with session.begin()` –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ë–î (IntegrityError, NoResultFound)
   - –õ–æ–≥–∏—Ä—É–π –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

6. **–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏:**
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `/app/temp_files/`
   - –í—Å–µ–≥–¥–∞ —É–¥–∞–ª—è–π –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—è–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º (MAX_FILE_SIZE)
   - –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã (`with open()`)
7. **–û—Ç—á–µ—Ç—ã —Ä–∑–∞—Ä–∞–±–æ—Ç–∫–∏**
   - –°–æ–∑–¥–∞–π —Ñ–∞–π–ª Cheak_list.md –≥–¥–µ —É–∫–∞–∑–∞–Ω—ã –≤—Å–µ —ç—Ç–∞–ø—ã —Ä–∞–∑–¥–µ–ª–µ–µ–Ω–Ω—ã–π –Ω–∞ –∑–∞–¥–∞—á–∏
   - –°–æ–∑–¥–∞–π —Ñ–∞–π–ª its_ready.md –≥–¥–µ –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω–æ —Å–ª–æ–≤–∞–º–∏ —á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ
   - –°–æ–∑–¥–∞–π —Ñ–∞–π–ª bug.md –≥–¥–µ –±—É–¥–µ—à—å –ø–∏—Å–∞—Ç—å –∫–∞–∫–∏–µ –±–∞–≥–∏ –±—ã–ª–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Claude Code

**–°–æ–∑–¥–∞–Ω–∏–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π:**
```
–°–æ–∑–¥–∞–π CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ database/crud.py –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏:
- get_all_models() - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏
- search_models_by_specs(specs: dict) - –ø–æ–∏—Å–∫ –ø–æ JSONB —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
- bulk_create_models(models: list) - –º–∞—Å—Å–æ–≤–∞—è –≤—Å—Ç–∞–≤–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–π async/await, type hints, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.
```

**–ü–∞—Ä—Å–∏–Ω–≥ DOCX:**
```
–°–æ–∑–¥–∞–π services/docx_parser.py —Å —Ñ—É–Ω–∫—Ü–∏–µ–π extract_text_from_docx().
–î–æ–ª–∂–Ω–∞ –∏–∑–≤–ª–µ–∫–∞—Ç—å —Ç–µ–∫—Å—Ç –∏–∑ –∞–±–∑–∞—Ü–µ–≤ –∏ —Ç–∞–±–ª–∏—Ü, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ encoding.
–ò—Å–ø–æ–ª—å–∑—É–π python-docx, async/await.
```

**–ò–º–ø–æ—Ä—Ç CSV:**
```
–°–æ–∑–¥–∞–π scripts/import_csv.py –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö CSV –∏–∑ data/csv/ –≤ –ë–î.
–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Ä–µ–∞–ª–∏–∑—É–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö (—Å–º. README —Å–µ–∫—Ü–∏—é "–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"):

1. –ó–∞–≥—Ä—É–∑–∏ —Å–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ data/normalization_map.json
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ CSV:
   - –ü—Ä–æ—á–∏—Ç–∞—Ç—å pandas
   - –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ (—á–µ—Ä–µ–∑ normalize_column_name)
   - –û—á–∏—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (—á–µ—Ä–µ–∑ clean_spec_value)
   - –ò–∑–≤–ª–µ—á—å source_file –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
3. Bulk insert –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–†–µ–∞–ª–∏–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ clean_spec_value –∏ normalize_column_name —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–º–µ—Ä–∞–º –≤ README.
```

**OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```
–°–æ–∑–¥–∞–π services/openai_service.py —Å –î–í–£–•–≠–¢–ê–ü–ù–û–ô –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:

–≠—Ç–∞–ø –ê (Router): extract_tech_section(text) —Å gpt-4o-mini
- –ü—Ä–æ–º–ø—Ç: –Ω–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª —Å —Ç–µ—Ö—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
- –¶–µ–ª—å: –æ–±—Ä–µ–∑–∞—Ç—å "—é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —à–µ–ª—É—Ö—É"

–≠—Ç–∞–ø –ë (Parser): parse_requirements(tech_section, file_type) —Å gpt-4o
- –ü—Ä–æ–º–ø—Ç: –∏–∑–≤–ª–µ—á—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤ JSON —Å –ö–ê–ù–û–ù–ò–ß–ï–°–ö–ò–ú–ò –∫–ª—é—á–∞–º–∏
- –ó–∞–≥—Ä—É–∑–∏ —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π –∏–∑ normalization_map.json
- –í–∫–ª—é—á–∏ –∏—Ö –≤ –ø—Ä–æ–º–ø—Ç –¥–ª—è GPT

–§—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞: process_document(text, file_type)

–û–±—Ä–∞–±–æ—Ç–∞–π –æ—à–∏–±–∫–∏ API, –ª–æ–≥–∏—Ä—É–π —Ç–æ–∫–µ–Ω—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å.
```

**–ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:**
```
–°–æ–∑–¥–∞–π services/matcher.py —Å —Ñ—É–Ω–∫—Ü–∏–µ–π find_matching_models(requirements: dict).
–õ–æ–≥–∏–∫–∞:
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞–π—Ç–∏ –º–æ–¥–µ–ª–∏ –ø–æ category + specs
2. –í—ã—á–∏—Å–ª–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
3. –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞: –∏–¥–µ–∞–ª—å–Ω–æ (100%), —á–∞—Å—Ç–∏—á–Ω–æ (‚â•70%), –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç (<70%)

–ò—Å–ø–æ–ª—å–∑—É–π –Ω–∞—Å—Ç—Ä–æ–π–∫—É MATCH_THRESHOLD –∏–∑ config.
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel:**
```
–°–æ–∑–¥–∞–π services/excel_generator.py —Å —Ñ—É–Ω–∫—Ü–∏–µ–π generate_report().
–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- –õ–∏—Å—Ç 1: –°–≤–æ–¥–∫–∞ (–º–æ–¥–µ–ª—å, %, —Å—Ç–∞—Ç—É—Å, –ø—Ä–∏–º–µ—á–∞–Ω–∏—è)
- –õ–∏—Å—Ç—ã 2+: –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è, –≤ –º–æ–¥–µ–ª–∏, —Å—Ç–∞—Ç—É—Å)

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∂–∏—Ä–Ω—ã–µ, —Ü–≤–µ—Ç–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤, –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä —à–∏—Ä–∏–Ω—ã.
```

**–ü–∞—Ä—Å–∏–Ω–≥ PDF (–±—É–¥—É—â–µ–µ):**
```
–°–æ–∑–¥–∞–π services/pdf_parser.py —Å —Ñ—É–Ω–∫—Ü–∏–µ–π extract_text_from_pdf().
–ò—Å–ø–æ–ª—å–∑—É–π pdfplumber –¥–ª—è:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å–æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ò–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü (format_table helper)
- –û–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

–ü–æ–¥–≥–æ—Ç–æ–≤—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ OCR (pytesseract).
```

### –¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Claude Code

**–ó–∞–¥–∞—á–∞ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞**
```bash
claude-code "–°–æ–∑–¥–∞–π –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ tender_matcher_bot —Å–æ–≥–ª–∞—Å–Ω–æ README.md:
- –í—Å–µ –ø–∞–ø–∫–∏ –∏ __init__.py —Ñ–∞–π–ª—ã
- Dockerfile –∏ docker-compose.yml
- requirements.txt —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- .env.example —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- .gitignore (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Python + .env, logs/, temp_files/)"
```

**–ó–∞–¥–∞—á–∞ 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–∏**
```bash
claude-code "–†–µ–∞–ª–∏–∑—É–π database/models.py —Å SQLAlchemy –º–æ–¥–µ–ª—è–º–∏:
- User (telegram_id PK, username, full_name, is_admin, created_at)
- Model (id PK, model_name, category, source_file, specifications JSONB, created_at, updated_at)
- SearchHistory (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ù–∞—Å—Ç—Ä–æ–π alembic (alembic.ini, env.py), —Å–æ–∑–¥–∞–π –ø–µ—Ä–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é."
```

**–ó–∞–¥–∞—á–∞ 3: –ê–Ω–∞–ª–∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ CSV**
```bash
claude-code "–°–æ–∑–¥–∞–π scripts/scan_headers.py –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Å–µ—Ö CSV –∏–∑ data/csv/.
–°–æ–±–µ—Ä–∏ –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫, —Å–≥—Ä—É–ø–ø–∏—Ä—É–π –ø–æ —á–∞—Å—Ç–æ—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏—è.
–í—ã–≥—Ä—É–∑–∏ –≤ data/headers_report.json —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –ö–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è (–∏ –≤ —Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö)
- –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–∏
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤, —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)

–ò—Å–ø–æ–ª—å–∑—É–π pandas. –õ–æ–≥–∏—Ä—É–π –ø—Ä–æ–≥—Ä–µ—Å—Å."
```

**–ó–∞–¥–∞—á–∞ 3.5: –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏**
```bash
claude-code "–ù–∞ –æ—Å–Ω–æ–≤–µ data/headers_report.json —Å–æ–∑–¥–∞–π data/normalization_map.json.
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–æ—Ö–æ–∂–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –∏ —Å–≥—Ä—É–ø–ø–∏—Ä—É–π –∏—Ö –≤ —Å–∏–Ω–æ–Ω–∏–º—ã.
–ù–∞–ø—Ä–∏–º–µ—Ä:
- '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP', '–ü–æ—Ä—Ç—ã 1G SFP' ‚Üí ports_1g_sfp
- '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å', '–ú–æ—â–Ω–æ—Å—Ç—å' ‚Üí power_watt

–°–æ–∑–¥–∞–π JSON —Ñ–∞–π–ª —Å canonical_keys. –ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∫—Ä—ã—Ç–∏—è."
```

**–ó–∞–¥–∞—á–∞ 4: –ò–º–ø–æ—Ä—Ç CSV –≤ –ë–î —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π**
```bash
claude-code "–°–æ–∑–¥–∞–π scripts/import_csv.py –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö CSV –∏–∑ data/csv/ –≤ —Ç–∞–±–ª–∏—Ü—É models.
–ö–†–ò–¢–ò–ß–ù–û: –†–µ–∞–ª–∏–∑—É–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö (README —Å–µ–∫—Ü–∏—è '–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö'):
1. –ó–∞–≥—Ä—É–∑–∏ data/normalization_map.json (–¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å!)
2. –†–µ–∞–ª–∏–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ clean_spec_value –∏ normalize_column_name
3. –°–æ—Ö—Ä–∞–Ω—è–π specifications (—á–∏—Å—Ç—ã–µ) + raw_specifications (–∏—Å—Ö–æ–¥–Ω—ã–µ)
4. –î–æ–±–∞–≤—å CATEGORY_MAPPING –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞

–ò—Å–ø–æ–ª—å–∑—É–π pandas, asyncpg, bulk insert. –õ–æ–≥–∏—Ä—É–π –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏."
```

**–ó–∞–¥–∞—á–∞ 5: –ë–∞–∑–æ–≤—ã–π –±–æ—Ç —Å whitelist**
```bash
claude-code "–†–µ–∞–ª–∏–∑—É–π:
- bot.py (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
- config.py (pydantic-settings)
- middleware/auth.py (whitelist –ø—Ä–æ–≤–µ—Ä–∫–∞ - 5 —à–∞–≥–æ–≤ –∏–∑ README)
- handlers/start.py (–∫–æ–º–∞–Ω–¥–∞ /start)

–°–æ–≥–ª–∞—Å–Ω–æ README.md –≠—Ç–∞–ø 1."
```

**–ó–∞–¥–∞—á–∞ 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenAI —Å –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π**
```bash
claude-code "–†–µ–∞–ª–∏–∑—É–π services/openai_service.py —Å –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

–≠—Ç–∞–ø –ê - Router (gpt-4o-mini):
- extract_tech_section(text) - –Ω–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª —Å —Ç–µ—Ö—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
- –ü—Ä–æ–º–ø—Ç: '–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –≤–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –µ–≥–æ —Ç–µ–∫—Å—Ç'

–≠—Ç–∞–ø –ë - Parser (gpt-4o):
- parse_requirements(tech_section, file_type) - –∏–∑–≤–ª–µ—á—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∏ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏ –∏–∑ normalization_map.json
- –ü—Ä–æ–º–ø—Ç: —É–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫ canonical_keys, –ø–æ–ø—Ä–æ—Å–∏ GPT –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û –∏—Ö

–§—É–Ω–∫—Ü–∏—è-–æ–±–µ—Ä—Ç–∫–∞: process_document(text, file_type)
–û–±—Ä–∞–±–æ—Ç–∞–π –æ—à–∏–±–∫–∏ API, –ª–æ–≥–∏—Ä—É–π —Ç–æ–∫–µ–Ω—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å."
```

**–ó–∞–¥–∞—á–∞ 7: –õ–æ–≥–∏–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è**
```bash
claude-code "–°–æ–∑–¥–∞–π services/matcher.py —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ README.md –≠—Ç–∞–ø 3.

–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ (fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è):
1. –ï—Å–ª–∏ model_name —É–∫–∞–∑–∞–Ω–æ —Ç–æ—á–Ω–æ ‚Üí –∏—Å–∫–∞—Ç—å –ø–æ model_name (–∏–≥–Ω–æ—Ä–∏—Ä—É—è category)
2. –ï—Å–ª–∏ category —É–∫–∞–∑–∞–Ω–æ ‚Üí –∏—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. –ï—Å–ª–∏ category=NULL –≤ –¢–ó ‚Üí –∏—Å–∫–∞—Ç—å –ø–æ –≤—Å–µ–π –ë–î (–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ç–æ–ø-100)

–ò—Å–ø–æ–ª—å–∑—É–π MATCH_THRESHOLD –∏–∑ config, –≤–µ—Ä–Ω–∏ categorized —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã."
```

**–ó–∞–¥–∞—á–∞ 8: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel**
```bash
claude-code "–†–µ–∞–ª–∏–∑—É–π services/excel_generator.py.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel –æ–ø–∏—Å–∞–Ω–∞ –≤ README.md –≠—Ç–∞–ø 4.
–í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π raw_specifications –¥–ª—è –∫–æ–ª–æ–Ω–∫–∏ '–í –º–æ–¥–µ–ª–∏' (–∏—Å—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).
–ò—Å–ø–æ–ª—å–∑—É–π openpyxl, –ø—Ä–∏–º–µ–Ω–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ."
```

**–ó–∞–¥–∞—á–∞ 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
```bash
claude-code "–°–æ–∑–¥–∞–π handlers/document.py - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
–§–ª–æ—É:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (.docx –∏–ª–∏ .pdf)
2. –î–ª—è PDF: –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞ '‚ö†Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ'
3. –î–ª—è DOCX: docx_parser ‚Üí OpenAI ‚Üí matcher ‚Üí excel_generator
4. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

–û–±—Ä–∞–±–æ—Ç–∞–π –≤—Å–µ –æ—à–∏–±–∫–∏, –¥–æ–±–∞–≤—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ."
```

**–ó–∞–¥–∞—á–∞ 10: PDF –ø–∞—Ä—Å–µ—Ä (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ)**
```bash
claude-code "–°–æ–∑–¥–∞–π services/pdf_parser.py –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF.

–°—Ç–∞—Ç—É—Å: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–ª–æ–∂–µ–Ω–∞.
–†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ü–û–°–õ–ï –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è MVP —Å DOCX.

–ò—Å–ø–æ–ª—å–∑—É–π pdfplumber –¥–ª—è:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å–æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ü–∞—Ä—Å–∏–Ω–≥–∞ —Ç–∞–±–ª–∏—Ü
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –µ–¥–∏–Ω—ã–π —Ç–µ–∫—Å—Ç

–ü–æ–¥–≥–æ—Ç–æ–≤—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è OCR (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å pytesseract).
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–∑ data/sample_tz/"
```

### –î–µ–±–∞–≥–≥–∏–Ω–≥ —Å Claude Code

**–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏–º–ø–æ—Ä—Ç–∞ CSV:**
```bash
claude-code "–ü—Ä–æ–≤–µ—Ä—å scripts/import_csv.py:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è source_file –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞?
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è JSONB?
- –ï—Å—Ç—å –ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π?
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –Ω–∞ —Ñ–∞–π–ª–µ ESR_cleaned.csv, –ø–æ–∫–∞–∂–∏ –ø–µ—Ä–≤—ã–µ 3 –∑–∞–ø–∏—Å–∏."
```

**–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å JSONB –∑–∞–ø—Ä–æ—Å–∞–º–∏:**
```bash
claude-code "–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø–æ–∏—Å–∫ –≤ database/crud.py.
–¢–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å –º–µ–¥–ª–µ–Ω–Ω—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π GIN –∏–Ω–¥–µ–∫—Å –∏ JSONB –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:
- @> –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏—è
- jsonb_path_query –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
–ü–æ–∫–∞–∂–∏ –ø—Ä–∏–º–µ—Ä SQL –∑–∞–ø—Ä–æ—Å–∞."
```

**–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö OpenAI API:**
```bash
claude-code "–î–æ–±–∞–≤—å retry –ª–æ–≥–∏–∫—É –≤ services/openai_service.py:
- Exponential backoff –ø—Ä–∏ rate limit (429)
- Timeout –æ–±—Ä–∞–±–æ—Ç–∫–∞
- Fallback –Ω–∞ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ
–õ–æ–≥–∏—Ä—É–π –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏."
```

### –†–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
```bash
claude-code "–û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ services/matcher.py:
- –í—ã–Ω–µ—Å–∏ –ª–æ–≥–∏–∫—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- –î–æ–±–∞–≤—å type hints –≤–µ–∑–¥–µ
- –£–ª—É—á—à–∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å (—Ä–∞–∑–±–µ–π –¥–ª–∏–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- –î–æ–±–∞–≤—å unit —Ç–µ—Å—Ç—ã –¥–ª—è calculate_match_percentage()"
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```bash
claude-code "–î–æ–±–∞–≤—å –≤ database/crud.py —Ñ—É–Ω–∫—Ü–∏—é get_models_by_source(source_file: str).
–î–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (v20, ESR –∏ —Ç.–¥.).
–ò—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∏–ª—å –∫–æ–¥–∞."
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
claude-code "–û–±–Ω–æ–≤–∏ requirements.txt:
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ stable –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –£–±–µ–¥–∏—Å—å –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ aiogram + SQLAlchemy)
- –î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–∑–∞—á–µ–º –Ω—É–∂–Ω–∞)"
```

### –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ï—Å–ª–∏ Claude Code —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è, –≤–æ—Ç —Ç–∏–ø–∏—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:

**Q: –ö–∞–∫—É—é –º–æ–¥–µ–ª—å OpenAI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
A: —É–∫–∞–∑–∞–Ω–æ –≤ .env –∫–∞–∫ OPENAI_MODEL.

**Q: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥—É–±–ª–∏ –º–æ–¥–µ–ª–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º?**
A: –•—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –≤ –ë–î —Å –ø–æ–º–µ—Ç–∫–æ–π source_file. –í Excel –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ "MES3710P (v29)".

**Q: –ö–∞–∫–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?**
A: 70% (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ MATCH_THRESHOLD –≤ .env).

**Q: –ö–∞–∫ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è?**
A: –°—Ç—Ä–æ–≥–æ (200 != 180), –Ω–æ –µ—Å–ª–∏ ALLOW_LOWER_VALUES=true, —Ç–æ 180 –ø–æ–¥—Ö–æ–¥–∏—Ç —Å –ø–æ–º–µ—Ç–∫–æ–π –≤ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è—Ö.

**Q: –°–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ Excel?**
A: –í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ, –Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ –ª–∏—Å—Ç–∞–º (–∏–¥–µ–∞–ª—å–Ω—ã–µ, —á–∞—Å—Ç–∏—á–Ω—ã–µ, –Ω–µ –ø–æ–¥–æ—à–ª–∏).

**Q: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤ CSV?**
A: –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Üí null –≤ JSONB. –ü—Ä–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Å—á–∏—Ç–∞—Ç—å –∫–∞–∫ "–Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç".

**Q: –ù—É–∂–Ω—ã –ª–∏ unit —Ç–µ—Å—Ç—ã?**
A: –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (matcher, compare_spec_values), –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è MVP.

**Q: –ö–∞–∫ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å?**
A: utils/logger.py —Å RotatingFileHandler. INFO –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, ERROR –¥–ª—è –æ—à–∏–±–æ–∫.

**Q: –ö–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É PDF?**
A: –°–Ω–∞—á–∞–ª–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å MVP —Å DOCX. PDF –ø–∞—Ä—Å–µ—Ä - —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–æ—Ç–æ–≤–∞ (pdf_parser.py), –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞.

**Q: –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö?**
A: CSV —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –æ–¥–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ ("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤ 1G SFP" vs "–ü–æ—Ä—Ç—ã 1G SFP"). –ë–µ–∑ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ SQL –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø–æ–ª–æ–≤–∏–Ω—É –¥–∞–Ω–Ω—ã—Ö. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≤–æ–¥–∏—Ç –≤—Å–µ –∫ –µ–¥–∏–Ω—ã–º –∫–ª—é—á–∞–º (ports_1g_sfp) –∏ —Ç–∏–ø–∞–º (200 –≤–º–µ—Å—Ç–æ "200 –í—Ç").

**Q: –ì–¥–µ –≤–∑—è—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π?**
A: –í —Ñ–∞–π–ª–µ data/normalization_map.json. –≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è CSV —Ñ–∞–π–ª—ã –∏ –Ω–∞—Ö–æ–¥—è —Å–∏–Ω–æ–Ω–∏–º—ã.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–æ –ø–æ–¥–±–æ—Ä—É –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–ª—è —Ç–µ–Ω–¥–µ—Ä–æ–≤. –ë–æ—Ç –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞, –∞ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é.
